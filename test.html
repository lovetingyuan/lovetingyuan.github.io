<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>test</title>
</head>

<body>
  <script type="module">
    var insert = function (n) {
      const list = [1]
      let i = 0
      const bs = (left, right, target) => {
        if (target > list.at(-1)) {
          list.push(target)
          return
        }
        while (left < right) {
          const mid = Math.floor((left + right) / 2)
          if (list[mid] === target) return
          if (list[left] === target) return
          if (list[right] === target) return
          if (target > list[mid]) {
            if (target < (list[mid + 1] ?? Infinity)) {
              list.splice(mid + 1, 0, target)
              return
            }
            left = mid + 1
          } else {
            if (target > (list[mid - 1] ?? -Infinity)) {
              list.splice(mid, 0, target)
              return
            }
            right = mid - 1
          }
        }
        list.push(target)
      }
      while (i < n) {
        const last = list[i++]
        const num = last * 2 + 1
        bs(0, list.length - 1, num)
        const num2 = last * 3 + 1
        bs(0, list.length - 1, num2)
      }
      return list
    }
    console.log(insert(1150), '[1,3,4,7,9,10,13]')
    console.log(insert(11150), '[1,3,4,7,9,10,13]')

  </script>
</body>

</html>
