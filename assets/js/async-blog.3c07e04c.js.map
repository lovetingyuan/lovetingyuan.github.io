{"version":3,"sources":["webpack:///./src/views/Blog.vue?4aa8","webpack:///./src/views/Blog.vue?5d17","webpack:///./src/modules/blog.js","webpack:///src/views/Blog.vue","webpack:///./src/views/Blog.vue?deed","webpack:///./src/views/Blog.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","tag","key","attrs","_v","_s","content","domProps","val","name","title","staticRenderFns","blogs","init","Object","keys","allBlogs","tags","forEach","push","setBlogs","blog","setBlogContent","$fetchBlogs","request","get","then","data","$fetchBlogContent","res","store","addModule","Promise","all","computed","concat","$store","Blog","$route","params","currentTag","blogName","document","getElementById","style","createElement","rel","id","href","head","appendChild","removeModule","component"],"mappings":"qIAAA,yBAAkiB,EAAG,G,yCCAriB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,YAAYN,EAAIO,GAAIP,EAAQ,KAAE,SAASQ,GAAK,OAAOJ,EAAG,cAAc,CAACK,IAAID,EAAIF,YAAY,MAAMI,MAAM,CAAC,GAAM,SAAWF,EAAK,OAASA,IAAM,CAACR,EAAIW,GAAGX,EAAIY,GAAGJ,GAAO,YAAY,GAAGJ,EAAG,UAAU,CAACE,YAAY,WAAW,CAAGN,EAAIa,QAA0QT,EAAG,UAAU,CAACE,YAAY,gBAAgBQ,SAAS,CAAC,UAAYd,EAAIY,GAAGZ,EAAIa,YAA5UT,EAAG,KAAK,CAACE,YAAY,aAAaN,EAAIO,GAAIP,EAAY,SAAE,SAASe,EAAIC,GAAM,OAAOZ,EAAG,KAAK,CAACK,IAAIO,GAAM,CAACZ,EAAG,KAAK,CAACA,EAAG,cAAc,CAACM,MAAM,CAAC,GAAM,SAAYK,EAAO,IAAI,IAAOA,EAAQ,OAAK,CAACf,EAAIW,GAAG,iBAAiBX,EAAIY,GAAGG,EAAIE,OAAO,mBAAmB,OAAO,QAC/lBC,EAAkB,G,wBCCP,GACbC,MAAOC,eAAK,IACZP,QAAS,GACT,WACE,OAAOQ,OAAOC,KAAKrB,KAAKkB,QAE1B,eACE,MAAMI,EAAW,GAIjB,OAHAtB,KAAKuB,KAAKC,QAAQjB,IAChBe,EAASG,QAAQzB,KAAKkB,MAAMX,MAEvBe,GAETI,SAAUR,GACRE,OAAOC,KAAKH,GAAOM,QAAQjB,IACzBW,EAAMX,GAAKiB,QAAQG,IACjBA,EAAKpB,IAAMA,MAGfP,KAAKkB,MAAQA,GAEfU,eAAgBhB,GACdZ,KAAKY,QAAUA,GAEjBiB,cACE,OAAOC,OAAQC,IAAI,wBAAwBC,KAAKC,IAC9CjC,KAAK0B,SAASO,EAAKf,UAGvBgB,kBAAiB,GAAiB,IAAb3B,EAAa,EAAbA,IAAKQ,EAAQ,EAARA,KACxB,OAAOe,OAAQC,kBAAkBxB,KAAOQ,QAAWiB,KAAKG,IACtDnC,KAAK4B,eAAeO,OCT1B,GACE,UAAF,KAEI,OADAC,EAAMC,UAAU,OAAQV,GACjBW,QAAQC,IAAI,CACvB,qBACA,yCACM,KAAN,cACM,IAAN,kBAIEC,SAAU,CACR,OACE,MAAO,CAAC,IAAIC,OAAOzC,KAAK0C,OAAOC,KAAKpB,OAEtC,aACE,OAAOvB,KAAK4C,OAAOC,OAAOtC,KAE5B,WACE,OAAOP,KAAK4C,OAAOC,OAAO9B,MAE5B,WACE,OAAIf,KAAK8C,WACA9C,KAAK0C,OAAOC,KAAKzB,MAAMlB,KAAK8C,YAE9B9C,KAAK0C,OAAOC,KAAKrB,UAE1B,UACE,OAAItB,KAAK+C,SACA/C,KAAK0C,OAAOC,KAAK/B,QAEnB,OAGX,UACE,IAAKoC,SAASC,eAAe,oBAAqB,CAChD,MAAMC,EAAQF,SAASG,cAAc,QACrCD,EAAME,IAAM,aACZF,EAAMG,GAAK,mBACXH,EAAMI,KAAO,2EACbN,SAASO,KAAKC,YAAYN,KAG9B,gBACElD,KAAK0C,OAAOe,aAAa,OAAQ9B,KCpEyS,I,wBCQ1U+B,EAAY,eACd,EACA5D,EACAmB,GACA,EACA,KACA,WACA,MAIa,aAAAyC,E","file":"assets/js/async-blog.3c07e04c.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Blog.vue?vue&type=style&index=0&id=5de35601&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Blog.vue?vue&type=style&index=0&id=5de35601&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{staticClass:\"tag-list\"},_vm._l((_vm.tags),function(tag){return _c('router-link',{key:tag,staticClass:\"tag\",attrs:{\"to\":(\"/blog/\" + tag),\"exact\":!tag}},[_vm._v(_vm._s(tag || 'all'))])}),1),_c('section',{staticClass:\"article\"},[(!_vm.content)?_c('ul',{staticClass:\"blog-list\"},_vm._l((_vm.articles),function(val,name){return _c('li',{key:name},[_c('h2',[_c('router-link',{attrs:{\"to\":(\"/blog/\" + (val.tag) + \"/\" + (val.name))}},[_vm._v(\"\\n            \"+_vm._s(val.title)+\"\\n          \")])],1)])}),0):_c('article',{staticClass:\"markdown-body\",domProps:{\"innerHTML\":_vm._s(_vm.content)}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { request, init } from './utils'\n\nexport default {\n  blogs: init({}),\n  content: '',\n  get tags () {\n    return Object.keys(this.blogs)\n  },\n  get allBlogs () {\n    const allBlogs = []\n    this.tags.forEach(tag => {\n      allBlogs.push(...this.blogs[tag])\n    })\n    return allBlogs\n  },\n  setBlogs (blogs) {\n    Object.keys(blogs).forEach(tag => {\n      blogs[tag].forEach(blog => {\n        blog.tag = tag\n      })\n    })\n    this.blogs = blogs\n  },\n  setBlogContent (content) {\n    this.content = content\n  },\n  $fetchBlogs () {\n    return request.get('/data/blog/blog.json').then(data => {\n      this.setBlogs(data.blogs)\n    })\n  },\n  $fetchBlogContent ({ tag, name }) {\n    return request.get(`/data/blog/${tag}/${name}.md`).then(res => {\n      this.setBlogContent(res)\n    })\n  }\n}\n","<template>\n  <div>\n    <nav class=\"tag-list\">\n      <router-link v-for=\"tag in tags\" :key=\"tag\" class=\"tag\" :to=\"`/blog/${tag}`\" :exact=\"!tag\">{{tag || 'all'}}</router-link>\n    </nav>\n    <section class=\"article\">\n      <ul class=\"blog-list\" v-if=\"!content\">\n        <li v-for=\"(val, name) in articles\" :key=\"name\">\n          <h2>\n            <router-link :to=\"`/blog/${val.tag}/${val.name}`\">\n              {{val.title}}\n            </router-link>\n          </h2>\n        </li>\n      </ul>\n      <article v-html=\"content\" v-else class=\"markdown-body\">\n      </article>\n    </section>\n  </div>\n</template>\n\n<script>\nimport blogModule from '@/modules/blog'\n\nexport default {\n  asyncData (store, route) {\n    store.addModule('Blog', blogModule)\n    return Promise.all([\n      store.Blog.$fetchBlogs(),\n      route.params.name && store.Blog.$fetchBlogContent({\n        name: route.params.name,\n        tag: route.params.tag\n      })\n    ])\n  },\n  computed: {\n    tags () {\n      return [''].concat(this.$store.Blog.tags)\n    },\n    currentTag () {\n      return this.$route.params.tag\n    },\n    blogName () {\n      return this.$route.params.name\n    },\n    articles () {\n      if (this.currentTag) {\n        return this.$store.Blog.blogs[this.currentTag]\n      }\n      return this.$store.Blog.allBlogs\n    },\n    content () {\n      if (this.blogName) {\n        return this.$store.Blog.content\n      }\n      return null\n    }\n  },\n  mounted () {\n    if (!document.getElementById('github-css-style')) {\n      const style = document.createElement('link')\n      style.rel = 'stylesheet'\n      style.id = 'github-css-style'\n      style.href = 'https://cdn.jsdelivr.net/npm/github-markdown-css/github-markdown.min.css'\n      document.head.appendChild(style)\n    }\n  },\n  beforeDestroy () {\n    this.$store.removeModule('Blog', blogModule)\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  .tag-list {\n    .tag {\n      display: inline-block;\n      padding: 6px 16px;\n      background-color: #eee;\n      border-radius: 100px;\n      margin-right: 20px;\n      text-decoration: none;\n      transition: background-color .3s;\n      margin-top: 12px;\n      &:hover {\n        background-color: darken(#eee, 8%);\n      }\n    }\n  }\n  .blog-list {\n    // list-style: none;\n    margin: 20px 0;\n    padding: 0;\n  }\n  .article {\n    margin: 30px 0;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Blog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Blog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Blog.vue?vue&type=template&id=5de35601&scoped=true&\"\nimport script from \"./Blog.vue?vue&type=script&lang=js&\"\nexport * from \"./Blog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Blog.vue?vue&type=style&index=0&id=5de35601&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5de35601\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}