{"version":3,"sources":["webpack:///./src/views/Blog.vue?de83","webpack:///./src/views/Blog.vue?237e","webpack:///./src/modules/blog.js","webpack:///src/views/Blog.vue","webpack:///./src/views/Blog.vue?deed","webpack:///./src/views/Blog.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","tag","key","attrs","_v","_s","content","domProps","val","name","title","staticRenderFns","blogs","init","Object","keys","allBlogs","tags","forEach","push","setBlogs","blog","setBlogContent","$fetchBlogs","request","get","then","data","$fetchBlogContent","res","store","addModule","Promise","all","computed","concat","$store","Blog","$route","params","currentTag","blogName","document","getElementById","style","createElement","rel","id","href","head","appendChild","removeModule","component"],"mappings":"8GAAA,yBAAkiB,EAAG,G,kECAriB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,YAAYN,EAAIO,GAAIP,EAAQ,KAAE,SAASQ,GAAK,OAAOJ,EAAG,cAAc,CAACK,IAAID,EAAIF,YAAY,MAAMI,MAAM,CAAC,GAAM,SAAWF,EAAK,OAASA,IAAM,CAACR,EAAIW,GAAGX,EAAIY,GAAGJ,GAAO,YAAY,GAAGJ,EAAG,UAAU,CAACE,YAAY,WAAW,CAAGN,EAAIa,QAA0QT,EAAG,UAAU,CAACE,YAAY,gBAAgBQ,SAAS,CAAC,UAAYd,EAAIY,GAAGZ,EAAIa,YAA5UT,EAAG,KAAK,CAACE,YAAY,aAAaN,EAAIO,GAAIP,EAAY,SAAE,SAASe,EAAIC,GAAM,OAAOZ,EAAG,KAAK,CAACK,IAAIO,GAAM,CAACZ,EAAG,KAAK,CAACA,EAAG,cAAc,CAACM,MAAM,CAAC,GAAM,SAAYK,EAAO,IAAI,IAAOA,EAAQ,OAAK,CAACf,EAAIW,GAAG,iBAAiBX,EAAIY,GAAGG,EAAIE,OAAO,mBAAmB,OAAO,QAC/lBC,EAAkB,G,wBCCP,GACbC,MAAOC,eAAK,IACZP,QAAS,GACT,WACE,OAAOQ,OAAOC,KAAKrB,KAAKkB,QAE1B,eACE,MAAMI,EAAW,GAIjB,OAHAtB,KAAKuB,KAAKC,QAAQjB,IAChBe,EAASG,QAAQzB,KAAKkB,MAAMX,MAEvBe,GAETI,SAAUR,GACRE,OAAOC,KAAKH,GAAOM,QAAQjB,IACzBW,EAAMX,GAAKiB,QAAQG,IACjBA,EAAKpB,IAAMA,MAGfP,KAAKkB,MAAQA,GAEfU,eAAgBhB,GACdZ,KAAKY,QAAUA,GAEjBiB,cACE,OAAOC,OAAQC,IAAI,wBAAwBC,KAAKC,IAC9CjC,KAAK0B,SAASO,EAAKf,UAGvBgB,kBAAiB,GAAiB,IAAb3B,EAAa,EAAbA,IAAKQ,EAAQ,EAARA,KACxB,OAAOe,OAAQC,kBAAkBxB,KAAOQ,QAAWiB,KAAKG,IACtDnC,KAAK4B,eAAeO,OCT1B,GACE,UAAF,KAEI,OADAC,EAAMC,UAAU,OAAQV,GACjBW,QAAQC,IAAI,CACvB,qBACA,yCACM,KAAN,cACM,IAAN,kBAIEC,SAAU,CACR,OACE,MAAO,CAAC,IAAIC,OAAOzC,KAAK0C,OAAOC,KAAKpB,OAEtC,aACE,OAAOvB,KAAK4C,OAAOC,OAAOtC,KAE5B,WACE,OAAOP,KAAK4C,OAAOC,OAAO9B,MAE5B,WACE,OAAIf,KAAK8C,WACA9C,KAAK0C,OAAOC,KAAKzB,MAAMlB,KAAK8C,YAE9B9C,KAAK0C,OAAOC,KAAKrB,UAE1B,UACE,OAAItB,KAAK+C,SACA/C,KAAK0C,OAAOC,KAAK/B,QAEnB,OAGX,UACE,IAAKoC,SAASC,eAAe,oBAAqB,CAChD,MAAMC,EAAQF,SAASG,cAAc,QACrCD,EAAME,IAAM,aACZF,EAAMG,GAAK,mBACXH,EAAMI,KAAO,2EACbN,SAASO,KAAKC,YAAYN,KAG9B,gBACElD,KAAK0C,OAAOe,aAAa,OAAQ9B,KCpEyS,I,wBCQ1U+B,EAAY,eACd,EACA5D,EACAmB,GACA,EACA,KACA,WACA,MAIa,aAAAyC,E","file":"assets/js/async-blog.b151d288.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Blog.vue?vue&type=style&index=0&id=3915c471&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Blog.vue?vue&type=style&index=0&id=3915c471&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{staticClass:\"tag-list\"},_vm._l((_vm.tags),function(tag){return _c('router-link',{key:tag,staticClass:\"tag\",attrs:{\"to\":(\"/blog/\" + tag),\"exact\":!tag}},[_vm._v(_vm._s(tag || 'all'))])}),1),_c('section',{staticClass:\"article\"},[(!_vm.content)?_c('ul',{staticClass:\"blog-list\"},_vm._l((_vm.articles),function(val,name){return _c('li',{key:name},[_c('h2',[_c('router-link',{attrs:{\"to\":(\"/blog/\" + (val.tag) + \"/\" + (val.name))}},[_vm._v(\"\\n            \"+_vm._s(val.title)+\"\\n          \")])],1)])}),0):_c('article',{staticClass:\"markdown-body\",domProps:{\"innerHTML\":_vm._s(_vm.content)}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { request, init } from './utils'\r\n\r\nexport default {\r\n  blogs: init({}),\r\n  content: '',\r\n  get tags () {\r\n    return Object.keys(this.blogs)\r\n  },\r\n  get allBlogs () {\r\n    const allBlogs = []\r\n    this.tags.forEach(tag => {\r\n      allBlogs.push(...this.blogs[tag])\r\n    })\r\n    return allBlogs\r\n  },\r\n  setBlogs (blogs) {\r\n    Object.keys(blogs).forEach(tag => {\r\n      blogs[tag].forEach(blog => {\r\n        blog.tag = tag\r\n      })\r\n    })\r\n    this.blogs = blogs\r\n  },\r\n  setBlogContent (content) {\r\n    this.content = content\r\n  },\r\n  $fetchBlogs () {\r\n    return request.get('/data/blog/blog.json').then(data => {\r\n      this.setBlogs(data.blogs)\r\n    })\r\n  },\r\n  $fetchBlogContent ({ tag, name }) {\r\n    return request.get(`/data/blog/${tag}/${name}.md`).then(res => {\r\n      this.setBlogContent(res)\r\n    })\r\n  }\r\n}\r\n","<template>\r\n  <div>\r\n    <nav class=\"tag-list\">\r\n      <router-link v-for=\"tag in tags\" :key=\"tag\" class=\"tag\" :to=\"`/blog/${tag}`\" :exact=\"!tag\">{{tag || 'all'}}</router-link>\r\n    </nav>\r\n    <section class=\"article\">\r\n      <ul class=\"blog-list\" v-if=\"!content\">\r\n        <li v-for=\"(val, name) in articles\" :key=\"name\">\r\n          <h2>\r\n            <router-link :to=\"`/blog/${val.tag}/${val.name}`\">\r\n              {{val.title}}\r\n            </router-link>\r\n          </h2>\r\n        </li>\r\n      </ul>\r\n      <article v-html=\"content\" v-else class=\"markdown-body\">\r\n      </article>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport blogModule from '@/modules/blog'\r\n\r\nexport default {\r\n  asyncData (store, route) {\r\n    store.addModule('Blog', blogModule)\r\n    return Promise.all([\r\n      store.Blog.$fetchBlogs(),\r\n      route.params.name && store.Blog.$fetchBlogContent({\r\n        name: route.params.name,\r\n        tag: route.params.tag\r\n      })\r\n    ])\r\n  },\r\n  computed: {\r\n    tags () {\r\n      return [''].concat(this.$store.Blog.tags)\r\n    },\r\n    currentTag () {\r\n      return this.$route.params.tag\r\n    },\r\n    blogName () {\r\n      return this.$route.params.name\r\n    },\r\n    articles () {\r\n      if (this.currentTag) {\r\n        return this.$store.Blog.blogs[this.currentTag]\r\n      }\r\n      return this.$store.Blog.allBlogs\r\n    },\r\n    content () {\r\n      if (this.blogName) {\r\n        return this.$store.Blog.content\r\n      }\r\n      return null\r\n    }\r\n  },\r\n  mounted () {\r\n    if (!document.getElementById('github-css-style')) {\r\n      const style = document.createElement('link')\r\n      style.rel = 'stylesheet'\r\n      style.id = 'github-css-style'\r\n      style.href = 'https://cdn.jsdelivr.net/npm/github-markdown-css/github-markdown.min.css'\r\n      document.head.appendChild(style)\r\n    }\r\n  },\r\n  beforeDestroy () {\r\n    this.$store.removeModule('Blog', blogModule)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .tag-list {\r\n    .tag {\r\n      display: inline-block;\r\n      padding: 6px 16px;\r\n      background-color: #eee;\r\n      border-radius: 100px;\r\n      margin-right: 20px;\r\n      text-decoration: none;\r\n      transition: background-color .3s;\r\n      margin-top: 12px;\r\n      &:hover {\r\n        background-color: darken(#eee, 8%);\r\n      }\r\n    }\r\n  }\r\n  .blog-list {\r\n    // list-style: none;\r\n    margin: 20px 0;\r\n    padding: 0;\r\n  }\r\n  .article {\r\n    margin: 30px 0;\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Blog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Blog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Blog.vue?vue&type=template&id=3915c471&scoped=true&\"\nimport script from \"./Blog.vue?vue&type=script&lang=js&\"\nexport * from \"./Blog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Blog.vue?vue&type=style&index=0&id=3915c471&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3915c471\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}