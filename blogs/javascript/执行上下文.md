### JavaScript 执行上下文

## 执行上下文分为三种：

- 全局执行上下文（全局只有一份）
- 函数执行上下文（函数执行时创建）
- 动态执行上下文（eval, new Function, setTimeout(string)）

执行栈（调用栈）就是对执行上下文进行栈操作，js中函数为一等公民，所以栈里主要就是函数执行上下文，调用方法入栈，方法返回则出栈

## 创建过程

函数在被调用时才会创建执行上下文，一个执行上下文包含以下几部分：

- This 绑定
- 词法环境（let，const 块级作用域）
  - 词法环境保存了变量标识符、接收的参数（包括argument）与其值的引用
  - 词法环境包含两种类型：全局环境，函数环境
- 变量环境（var）
  - 变量环境具有变量提升的效果，在 es6 之前，变量环境是唯一的环境（作用域）类型
- 外部环境的引用（形成作用域链）
