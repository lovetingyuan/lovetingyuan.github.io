var s=`<h2>\u53D1\u5E03\u8BA2\u9605\u6A21\u5F0F\u548C\u89C2\u5BDF\u8005\u6A21\u5F0F</h2>
<p>\u8FD9\u4E24\u79CD\u90FD\u662F\u6BD4\u8F83\u5E38\u7528\u7684\u7F16\u7A0B\u6A21\u5F0F\uFF0C\u5B83\u4EEC\u7684\u542B\u4E49\u5F88\u76F8\u8FD1\u4F46\u5B9E\u73B0\u8D77\u6765\u53C8\u6709\u4E0D\u540C\u3002
<img src="https://s1.ax1x.com/2020/08/07/afuYod.jpg" alt="alt"></p>
<h3>\u89C2\u5BDF\u8005\u6A21\u5F0F</h3>
<p>\u89C2\u5BDF\u8005\u6A21\u5F0F\u5305\u542B <strong>\u88AB\u89C2\u5BDF\u8005(Subject)</strong> \u548C <strong>\u89C2\u5BDF\u8005(Observers)</strong>\uFF0C\u5B83\u4EEC\u662F\u4E00\u5BF9\u591A\u7684\u5173\u7CFB\uFF0C\u5373 Observer \u6709\u5F88\u591A\u4E2A\uFF0CSubject \u53EA\u6709\u4E00\u4E2A\u3002</p>
<p>\u5176\u4E2D\uFF0CObserver \u662F\u4F9D\u8D56\u4E8E Subject \u7684\uFF0C\u610F\u5473\u7740\u5F53 Subject \u6709\u53D8\u5316\u7684\u65F6\u5019\uFF0C\u5B83\u4F1A\u901A\u77E5\u5230\u6BCF\u4E00\u4F4D Observer\u3002</p>
<p>\u4F9D\u8D56\u7684\u5B9E\u73B0\u9700\u8981 Observer \u4E3B\u52A8\u8054\u7CFB Subject\uFF0C\u800C\u901A\u77E5\u5219\u662F Subject \u53D8\u5316\u65F6\u4E3B\u52A8\u53BB\u904D\u5386 Observer\u3002</p>
<p>\u53EF\u4EE5\u770B\u5230\u4E8C\u8005\u662F\u9700\u8981\u7D27\u5BC6\u8054\u7CFB\u7684\uFF0C\u5B83\u4EEC\u77E5\u9053\u5F7C\u6B64\u7684\u5B58\u5728\u5E76\u76F4\u63A5\u901A\u4FE1\u3002\u6BD4\u5982 Vue \u4E2D\u7684 watch \u529F\u80FD\u5C31\u662F\u89C2\u5BDF\u8005\u6A21\u5F0F\u7684\u4F53\u73B0\u3002</p>
<pre><code class="language-js">class Subject {
  constructor() {
    this.observers = []
  }

  add(observer) {
    this.observers.push(observer)
  }

  notify(...args) {
    this.observers.forEach((observer) =&gt; observer.update(...args))
  }
}
</code></pre>
<h3>\u8BA2\u9605-\u53D1\u5E03\u6A21\u5F0F</h3>
<p>\u8BA2\u9605\u53D1\u5E03\u6A21\u5F0F\u901A\u5E38\u88AB\u89C6\u4E3A\u89C2\u5BDF\u8005\u6A21\u5F0F\u62BD\u8C61\u601D\u60F3\u4E0A\u7684\u4E00\u79CD\u5B9E\u73B0\uFF0C\u8FD9\u79CD\u6A21\u5F0F\u540C\u6837\u5B58\u5728\u7532\u65B9\u4E59\u65B9\uFF0C\u8FD9\u91CC\u79F0\u5B83\u4EEC\u4E3A <strong>\u8BA2\u9605\u8005(Subscriber)</strong> \u548C <strong>\u53D1\u5E03\u8005(Publisher)</strong>\u3002</p>
<p>\u9664\u6B64\u4E4B\u5916\u8FD8\u5B58\u5728\u7740\u4E00\u4E2A\u7B2C\u4E09\u65B9\u7684\u89D2\u8272\uFF0C\u53EF\u4EE5\u79F0\u5B83\u4E3A\u6D88\u606F\u4E2D\u5FC3\uFF0C\u6216\u8005\u4E8B\u4EF6\u8C03\u5EA6\u4E2D\u5FC3\u6216\u8005\u7B80\u79F0\u4E3A<strong>\u4E2D\u4ECB</strong>\u3002</p>
<p>\u6240\u4EE5\u4E8C\u8005\u6700\u4E3B\u8981\u7684\u533A\u522B\u51FA\u73B0\u4E86\uFF0C\u8BA2\u9605\u53D1\u5E03\u6A21\u5F0F\u4E2D\uFF0CSubscriber \u548C Publisher \u4E0D\u662F\u76F4\u63A5\u901A\u4FE1\u7684\uFF0C\u800C\u662F\u501F\u52A9\u4E8E\u4E2D\u4ECB\u6765\u8054\u7CFB\uFF0C\u4ECE\u800C\u5B9E\u73B0\u4E86\u677E\u8026\u5408\u7684\u8BBE\u8BA1\u3002</p>
<p>Subscriber \u5728\u8BA2\u9605\u4E8B\u4EF6\u7684\u65F6\u5019\uFF0C\u53EA\u5173\u6CE8\u4E8B\u4EF6\u672C\u8EAB\uFF0C\u800C\u4E0D\u5173\u5FC3\u8C01\u4F1A\u53D1\u5E03\u8FD9\u4E2A\u4E8B\u4EF6\uFF1BPublisher \u5728\u53D1\u5E03\u4E8B\u4EF6\u7684\u65F6\u5019\uFF0C\u53EA\u5173\u6CE8\u4E8B\u4EF6\u672C\u8EAB\uFF0C\u800C\u4E0D\u5173\u5FC3\u8C01\u8BA2\u9605\u4E86\u8FD9\u4E2A\u4E8B\u4EF6\u3002</p>
<p>\u5728\u5B9E\u73B0\u4E2D\uFF0C\u4E2D\u4ECB\u901A\u5E38\u4F1A\u7EF4\u62A4\u4E00\u4E2A\u4E8B\u4EF6\u961F\u5217\uFF0C\u6BCF\u4E00\u79CD\u4E8B\u4EF6\u90FD\u6709\u5BF9\u5E94\u7684\u8BA2\u9605\u8005\uFF0C\u5E76\u5411\u5916\u63D0\u4F9B\u8BA2\u9605(on)\u548C\u53D1\u5E03(emit)\u7684\u63A5\u53E3\u3002Node \u4E2D EventEmitter\uFF0CVue \u4E2D\u7684 EventBus \u7B49\u90FD\u662F\u8BA2\u9605\u53D1\u5E03\u6A21\u5F0F\u7684\u4F53\u73B0\u3002</p>
<pre><code class="language-js">class PubSub {
  constructor() {
    this.subscribers = []
  }

  subscribe(topic, callback) {
    let callbacks = this.subscribers[topic]
    if (!callbacks) {
      this.subscribers[topic] = [callback]
    } else {
      callbacks.push(callback)
    }
  }

  publish(topic, ...args) {
    let callbacks = this.subscribers[topic] || []
    callbacks.forEach((callback) =&gt; callback(...args))
  }
}
</code></pre>
`;export{s as default};
